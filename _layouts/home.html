---
layout: default
---

<!-- Parallax background element (only on home page) -->
<div id="parallax-bg" aria-hidden="true"></div>

<!-- Everything below sits above the background -->
<div class="parallax-content">

  {% include navbar.html %}

  <header>
    <h1>{{ site.title }}</h1>
    {% if site.theme_config.show_description == true %}
      <p>{{ site.description }}</p>
    {% endif %}
  </header>

  {{ content }}

  {% if site.theme_config.show_projects == true %}
    <h2 id="projects">{{ site.theme_config.home.title_projects }}</h2>
    {% include card_list.html collection=site.data.home.project_entries %}
  {% endif %}

  {% if site.theme_config.show_notes == true %}
    <h2 id="notes" class="notes-header">
      <a href="{{ "/notes/" | relative_url }}">{{ site.theme_config.home.title_notes }}</a>
    </h2>
    {% include recent_notes_list.html %}
  {% endif %}

  {% if site.theme_config.show_misc_list == true %}
    <h2 id="misc">{{ site.theme_config.home.title_misc_list }}</h2>
    {% include vertical_list.html collection=site.data.home.misc_entries %}
  {% endif %}

  {% if site.theme_config.show_blog == true %}
    <h2 id="blog">{{ site.theme_config.home.title_blog }}</h2>
    {% include post_list.html %}
  {% endif %}

  {% if site.theme_config.show_old_projects == true %}
    <h2 id="old-projects">{{ site.theme_config.home.title_old_projects }}</h2>
    {% include card_list.html collection=site.data.home.old_project_entries %}
  {% endif %}

  {% if site.theme_config.show_footer == true %}
    <footer id="footer">
      <div class="dashed"></div>
      {% include horizontal_list.html collection=site.data.home.footer_entries %}
    </footer>
  {% endif %}


  <script>
    document.querySelectorAll('.minimal-navbar a').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        const href = this.getAttribute('href');
        if(href.startsWith("#")) {
          e.preventDefault();
          const target = document.querySelector(href);
          if(target) {
            const navbarHeight = document.querySelector('.minimal-navbar').offsetHeight;
            const elementPosition = target.getBoundingClientRect().top + window.pageYOffset;
            const offsetPosition = elementPosition - navbarHeight - 10; // extra 10px padding
            window.scrollTo({
              top: offsetPosition,
              behavior: "smooth"
            });
          }
        }
      });
    });
    </script>

</div><!-- /.parallax-content -->

<style>
  /* Navbar responsive tweaks to keep in a single row on mobile */
  .minimal-navbar {
    position: sticky;
    top: 0;
    z-index: 20;
    background: var(--bg);
    display: flex;
    justify-content: center; /* center the UL container */
  }
  .minimal-navbar ul {
    display: flex;
    list-style: none;
    padding-left: 0;
    margin: 0 auto 0.5rem auto; /* center block */
    gap: 0.75rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    white-space: nowrap;
    justify-content: center; /* center items when there is room */
    width: 100%;
  }
  .minimal-navbar li { flex: 0 0 auto; }
  .minimal-navbar a { text-decoration: none; color: var(--links); font-weight: 600; }

  /* Ensure the header doesn't get covered on mobile */
  @media (max-width: 640px) {
    .parallax-content header { padding-top: 0.5rem; }
  }
</style>
